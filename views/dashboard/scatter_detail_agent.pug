doctype html
html
  head
    meta(charset='utf-8')
    title= title
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(content='width=device-width, initial-scale=1', name='viewport')
    meta(content='', name='description')
    meta(content='', name='author')
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:400,300', rel='stylesheet', type='text/css')
    link(href='/assets/fonts/font-awesome/css/font-awesome.min.css', rel='stylesheet', type='text/css')
    link(href='/assets/fonts/simple-line-icons/simple-line-icons.min.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/bootstrap.min.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/uniform.default.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/bootstrap-switch.min.css', rel='stylesheet', type='text/css')
    link(href='/assets/styles/jquery.treegrid.css', rel='stylesheet', type='text/css')
    link(href='/assets/plugins/morris.css', rel='stylesheet', type='text/css')
    link(href='/assets/plugins/tasks.css', rel='stylesheet', type='text/css')
    link#style_components(href='/assets/css/eyelink-components.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/plugins.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/eyelink-layout.css', rel='stylesheet', type='text/css')
    link(href='/assets/css/eyelink-custom.css', rel='stylesheet', type='text/css')
    link(rel='shortcut icon', href='/assets/images/favicon.ico')
    link(rel='stylesheet', href='/stylesheets/style.css')    
    link(rel='stylesheet', type='text/css', href='/assets/annie/css/style.css')
    link(rel='stylesheet', type='text/css', href='/assets/sample/style/sampleES_detail.css')      
    link(rel='stylesheet', type='text/css', href='/assets/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.css')
    script(src='/assets/scripts/libs/jquery.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery-migrate.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/bootstrap.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/bootstrap-hover-dropdown.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery.slimscroll.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery.blockui.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery.uniform.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery.treegrid.bootstrap3.js', type='text/javascript')
    script(src='/assets/scripts/libs/jquery.treegrid.js', type='text/javascript')
    script(src='/assets/scripts/libs/bootstrap-switch.min.js', type='text/javascript')
    script(src='/assets/scripts/libs/select2.js', type='text/javascript')
    script(src='/assets/scripts/page/sample-data.js', type='text/javascript')
    script(src='/assets/plugins/tasks.js', type='text/javascript')
    script(type='text/javascript', src='/assets/leaflet/d3.js')
    script(src='/assets/annie/js/vue.min.js')    
    script(type='text/javascript', src="/scripts/util.js")
    script(type='text/javascript', src='/assets/plugins/datatables/media/js/jquery.dataTables.min.js')
    script(type='text/javascript', src='/assets/plugins/datatables/plugins/bootstrap/dataTables.bootstrap.js')
    script(src='/assets/scripts/page/table-managed.js')     
    script(src='/assets/scripts/eyelink-ui.js', type='text/javascript')
    script(src='/assets/scripts/eyelink-layout.js', type='text/javascript')
    script(src='/assets/scripts/eyelink-quick-sidebar.js', type='text/javascript')
    script(src='/assets/scripts/page/layout.js', type='text/javascript')
    script(src='/assets/scripts/page/demo.js', type='text/javascript')    
    script(src='/scripts/calltreeEFSM.js', type='text/javascript')    
    script.
      jQuery(document).ready(function() {  
        var old = '', oldValues = '';
        $('#sample_2 > tbody > tr').click(function(){
         if(old != ''){          
          if(oldvalues[4] == "true"){
            old.css("background", "#FFA7A7"); //reset to original color
          } else {
            old.css("background", "#fff"); //reset to original color
          }
         }                           
         $(this).css("background", "#FAED7D"); //apply the new color         
          var values = $(this).find('td').map(function(){              
            return $(this).text();
          }).get();                 
          oldvalues = values;
          old = $(this);
          console.log(values[7], values[1]);
          getTransaction(values[7], values[1]);
        });       
         $('.tree-2').treegrid({
          expanderExpandedClass: 'glyphicon glyphicon-minus',
          expanderCollapsedClass: 'glyphicon glyphicon-plus'
        });
        Metronic.init(); // init metronic core componets
        eyelinkLayout.init(); // init layout
        QuickSidebar.init(); // init quick sidebar
        Layout.init(); // init layout
        Demo.init(); // init index page        
        TableManaged.init();
      });
block content
  body.body-popup
    .wrapper
      header.page-header
      .container-fluid
        .content-popup
          .popup-tit-box           
           .row
             .col-md-12
                h1 EyeLink
          .row
            .col-md-12
              .portlet.light.bordered               
                .portlet-body.form                                 
                  table#sample_2.table.table-striped.table-bordered.table-hover(style='text-align:center;')
                    thead
                      tr                          
                        th #
                        th(style='text-align:center;') Start Time
                        th(style='text-align:center;') Path
                        th(style='text-align:center;') Res.(ms)
                        th(style='text-align:center;') Exception
                        th(style='text-align:center;') Agent
                        th(style='text-align:center;') Client IP
                        th(style='text-align:center;') Transaction 
                    tbody
                      each data in list      
                        if data._source.hasException                 
                          tr.odd.gradeX(id=data._id, style='background-color:#FFA7A7')
                            td
                            td #{data._source.startTime}
                            td(style='text-align:left;') #{data._source.rpc}
                            td #{data._source.elapsed}
                            td #{data._source.hasException}
                            td #{data._source.agentId}
                            td #{data._source.remoteAddr}
                            td #{data._source.transactionId}
                        else
                          tr.odd.gradeX(id=data._id)
                            td
                            td #{data._source.startTime}
                            td(style='text-align:left;') #{data._source.rpc}
                            td #{data._source.elapsed}
                            td #{data._source.hasException}
                            td #{data._source.agentId}
                            td #{data._source.remoteAddr}
                            td #{data._source.transactionId}
          #call              